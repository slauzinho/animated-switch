import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";import _possibleConstructorReturn from"@babel/runtime/helpers/possibleConstructorReturn";import _getPrototypeOf from"@babel/runtime/helpers/getPrototypeOf";import _inherits from"@babel/runtime/helpers/inherits";var _jsxFileName="/Users/brunosilva/work/animated-switch/src/index.tsx";import*as React from'react';import{StyleSheet}from'react-native';import{createNavigator,SceneView,SwitchRouter}from'react-navigation';import{Transitioning,Transition}from'react-native-reanimated';var DEFAULT_TRANSITION=React.createElement(Transition.Together,{__source:{fileName:_jsxFileName,lineNumber:27}},React.createElement(Transition.Out,{type:"fade",durationMs:200,interpolation:"easeIn",__source:{fileName:_jsxFileName,lineNumber:28}}),React.createElement(Transition.In,{type:"slide-top",durationMs:200,__source:{fileName:_jsxFileName,lineNumber:29}}));var AnimatedSwitchView=function(_React$Component){_inherits(AnimatedSwitchView,_React$Component);function AnimatedSwitchView(){var _getPrototypeOf2;var _this;_classCallCheck(this,AnimatedSwitchView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AnimatedSwitchView)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.containerRef=React.createRef();return _this;}_createClass(AnimatedSwitchView,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var prevState=prevProps.navigation.state;var prevActiveKey=prevState.routes[prevState.index].key;var state=this.props.navigation.state;var activeKey=state.routes[state.index].key;if(activeKey!==prevActiveKey&&this.containerRef.current){this.containerRef.current.animateNextTransition();}}},{key:"render",value:function render(){var _state$params;var _this$props=this.props,navigationConfig=_this$props.navigationConfig,screenProps=_this$props.screenProps;var state=this.props.navigation.state;var activeKey=state.routes[state.index].key;var descriptor=this.props.descriptors[activeKey];var ChildComponent=descriptor.getComponent();var transition=navigationConfig&&navigationConfig.transition||DEFAULT_TRANSITION;var transitionViewStyle=navigationConfig&&navigationConfig.transitionViewStyle||null;if(((_state$params=state.params)==null?void 0:_state$params[state.index].key)==='Loading'){return React.createElement(Transitioning.View,{ref:this.containerRef,transition:DEFAULT_TRANSITION,style:[styles.container,transitionViewStyle],__source:{fileName:_jsxFileName,lineNumber:74}},React.createElement(SceneView,{component:ChildComponent,navigation:descriptor.navigation,screenProps:screenProps,__source:{fileName:_jsxFileName,lineNumber:79}}));}return React.createElement(Transitioning.View,{ref:this.containerRef,transition:transition,style:[styles.container,transitionViewStyle],__source:{fileName:_jsxFileName,lineNumber:89}},React.createElement(SceneView,{component:ChildComponent,navigation:descriptor.navigation,screenProps:screenProps,__source:{fileName:_jsxFileName,lineNumber:94}}));}}]);return AnimatedSwitchView;}(React.Component);export default function createAnimatedSwitchNavigator(routeConfigMap){var switchConfig=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var router=SwitchRouter(routeConfigMap,switchConfig);var Navigator=createNavigator(AnimatedSwitchView,router,switchConfig);return Navigator;}var styles=StyleSheet.create({container:{flex:1}});
//# sourceMappingURL=index.js.map