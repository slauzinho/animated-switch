var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=createAnimatedSwitchNavigator;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf3=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _reactNavigation=require("react-navigation");var _reactNativeReanimated=require("react-native-reanimated");var _jsxFileName="/Users/brunosilva/work/animated-switch/src/index.tsx";var DEFAULT_TRANSITION=React.createElement(_reactNativeReanimated.Transition.Together,{__source:{fileName:_jsxFileName,lineNumber:27}},React.createElement(_reactNativeReanimated.Transition.Out,{type:"fade",durationMs:200,interpolation:"easeIn",__source:{fileName:_jsxFileName,lineNumber:28}}),React.createElement(_reactNativeReanimated.Transition.In,{type:"fade",durationMs:200,__source:{fileName:_jsxFileName,lineNumber:29}}));var AnimatedSwitchView=function(_React$Component){(0,_inherits2.default)(AnimatedSwitchView,_React$Component);function AnimatedSwitchView(){var _getPrototypeOf2;var _this;(0,_classCallCheck2.default)(this,AnimatedSwitchView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=(0,_possibleConstructorReturn2.default)(this,(_getPrototypeOf2=(0,_getPrototypeOf3.default)(AnimatedSwitchView)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.containerRef=React.createRef();return _this;}(0,_createClass2.default)(AnimatedSwitchView,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var prevState=prevProps.navigation.state;var prevActiveKey=prevState.routes[prevState.index].key;var state=this.props.navigation.state;var activeKey=state.routes[state.index].key;if(activeKey!==prevActiveKey&&this.containerRef.current){this.containerRef.current.animateNextTransition();}}},{key:"render",value:function render(){var _state$params;var _this$props=this.props,navigationConfig=_this$props.navigationConfig,screenProps=_this$props.screenProps;var state=this.props.navigation.state;var activeKey=state.routes[state.index].key;var descriptor=this.props.descriptors[activeKey];var ChildComponent=descriptor.getComponent();var transition=navigationConfig&&navigationConfig.transition||DEFAULT_TRANSITION;var transitionViewStyle=navigationConfig&&navigationConfig.transitionViewStyle||null;if(((_state$params=state.params)==null?void 0:_state$params[state.index].key)==='Loading'){return React.createElement(_reactNativeReanimated.Transitioning.View,{ref:this.containerRef,transition:DEFAULT_TRANSITION,style:[styles.container,transitionViewStyle],__source:{fileName:_jsxFileName,lineNumber:74}},React.createElement(_reactNavigation.SceneView,{component:ChildComponent,navigation:descriptor.navigation,screenProps:screenProps,__source:{fileName:_jsxFileName,lineNumber:79}}));}return React.createElement(_reactNativeReanimated.Transitioning.View,{ref:this.containerRef,transition:transition,style:[styles.container,transitionViewStyle],__source:{fileName:_jsxFileName,lineNumber:89}},React.createElement(_reactNavigation.SceneView,{component:ChildComponent,navigation:descriptor.navigation,screenProps:screenProps,__source:{fileName:_jsxFileName,lineNumber:94}}));}}]);return AnimatedSwitchView;}(React.Component);function createAnimatedSwitchNavigator(routeConfigMap){var switchConfig=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var router=(0,_reactNavigation.SwitchRouter)(routeConfigMap,switchConfig);var Navigator=(0,_reactNavigation.createNavigator)(AnimatedSwitchView,router,switchConfig);return Navigator;}var styles=_reactNative.StyleSheet.create({container:{flex:1}});
//# sourceMappingURL=index.js.map